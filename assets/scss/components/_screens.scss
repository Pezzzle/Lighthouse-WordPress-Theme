
.c-screens {
  @extend %u-pos-relative;
  @extend %u-flex;
  @extend %u-fw-wrap;
  @extend %u-ai-center;
  @extend %u-jc-center;

  $self: &;

  margin-top: calc(var(--container-v-pad) * 2);
  margin-bottom: calc(var(--container-v-pad) * 2);

  img {
    @extend %u-block;
    @extend %u-width-100pc;
    @extend %u-height-auto;
  }

  &__background {
    @extend %u-pos-absolute;
    @extend %u-z-index--1;

    width: 100%;
    width: calc(100vw - var(--scrollbar-width));

    @include breakpoint(upto-medium) {
      overflow: hidden;
      height: 100%;

      img {
        position: absolute;
        left: 50%;
        width: auto;
        height: 100%;
        transform: translateX(-50%);
      }
    }

    @include breakpoint(from-medium) {

    }
  }

  &__screen {
    @extend %u-flex;
  }

  &__device {
    @extend %u-pos-relative;
    box-shadow: 1px 3px 20px rgba(0, 0, 0, .2);

    &--desktop {
      @extend %u-ov-hidden;
      width: var(--container-width);
      max-width: $global-max-width;
      border-radius: 7px;

      // 36px from 100vw @ 1440px, scaling down at "half speed"
      --titleBarSize: calc(1.25vw + 18px);
      --titleBarMax: 36px;

      &:before {
        @extend %u-content;
        @extend %u-flex;
        @extend %u-bg-color-gray-deep;
        @extend %u-ai-center;
        @extend %u-jc-flex-start;
        height: var(--titleBarSize);
        max-height: var(--titleBarMax);
      }

      &:after {
        @extend %u-content;
        @extend %u-pos-absolute;
        @extend %u-left;
        @extend %u-round;

        // From ~1440px screen, and as a fallback if vars/calcs not supported
        top: 14px;
        width: 9px;
        height: 9px;
        box-shadow: 16px 0 0 #444, 31px 0 0 #444, 46px 0 0 #444;

        @include breakpoint(upto-full) {
          // These are all calculated from --titleBarSize,
          // with 100 / 36 * intended px size / 100
          top: calc(.389 * var(--titleBarSize)); // 14px;
          width: calc(.25 * var(--titleBarSize));
          height: calc(.25 * var(--titleBarSize));
          // The dots
          box-shadow: calc(.444 * var(--titleBarSize)) 0 0 #444,
                      calc(.861 * var(--titleBarSize)) 0 0 #444,
                      calc(1.27 * var(--titleBarSize)) 0 0 #444;
        }
      }

      &--light {

      }

      &--dark {
        color: #444;
      }
    }

    &--mobile {
      @extend %u-flex;
      @extend %u-mv-2;
      @extend %u-mh-6--from-small;

      border-radius: 34px;

      img {
        width: 260px;
        margin: 14px;
        background-color: #333; // Makes sure there's no "gaps"
        border-radius: 20px;
      }

      &--light {

      }

      &--dark {

        img {
          // TODO: Refine box shadow "highlight"
          box-shadow: 0 0 14px #666,
                      0 0 0 14px #333;
        }
      }
    }
  }

  // Remove the margin-top of a screen shortcode following a screen shortcode
  & + #{$self} {
    margin-top: 0;
  }
}
