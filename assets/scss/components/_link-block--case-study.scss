
.c-link-block--case-study {
  $self: '.c-link-block';

  @extend %u-pos-relative;
  @extend %u-color-blackcurrant;
  @extend %u-pv-4--upto-small;

  #{$self}__title {
    @extend %u-mt-3;
  }

  #{$self}__logo {
    @extend %u-bg-color-currentColor;
  }

  // Gray background
  #{$self}__background {
    @extend %u-content;
    @extend %u-pos-absolute;
    @extend %u-bg-color-gray-light;
    @extend %u-z-index--1;
  }
}

.c-link-block--case-study--large {
  $self: '.c-link-block';

  @extend %u-width-100pc;
  @extend %u-flex;
  @extend %u-jc-center;
  @extend %u-mv-6;

  #{$self}__title {
    // This flips between being a link and not being a link on desktop/mobile

    &__plain {
      @extend %u-display-none--upto-small;
      @extend .type-title;
    }

    &__link {
      @extend %u-display-none--from-small;
      @extend .type-subtitle;
      line-height: 1.3; // Has to be smaller for hovering to not fall between lines

      &:focus,
      &:hover {
        @extend %u-underline;
      }
    }
  }

  #{$self}__link {
    @extend %u-display-none--upto-small;
    @extend %u-inline-flex; // Gets the margin working
    @extend %u-mt-7;
  }

  #{$self}__content {
    @extend %u-mh-auto--upto-small;

    @include breakpoint(upto-small) {
      width: var(--container-width);
    }
    @include breakpoint(from-small) {
      max-width: 25rem;
    }
  }

  // Gray background + image
  #{$self}__background {
    @extend %u-height-100pc--upto-small;
    @extend %u-width-100pc--upto-small;
    @extend %u-flex;
    @extend %u-ai-center;

    img {
      @extend %u-display-none--upto-small;
      width: 100%;
      max-width: 872px;
      height: auto;
    }
  }

  @include breakpoint(from-small) {
    height: 30rem;

    #{$self}__background {
      top: 2rem;
      width: calc(50% + 8rem);
      height: calc(100% - 2rem);
    }

    &:nth-child(odd) {
      #{$self}__content {
        margin-left: calc(50% + 5rem);
      }

      #{$self}__background {
        left: 0;
        clip-path: polygon(
          0 0,
          100% 0,
          100% 64px,
          calc(100% - 32px) 100%,
          0 100%,
          0 0
        );
        justify-content: flex-end; // Keep bg image near center of screen
      }
    }

    &:nth-child(even) {
      align-items: flex-end;

      #{$self}__content {
        width: 100%;
        width: stretch;
        width: -moz-available;
        width: -webkit-fill-available;
        margin-right: calc(50% + 5rem);
      }

      #{$self}__background {
        right: 0;
        clip-path: polygon(
          0 0,
          100% 0,
          100% 64px,
          100% 100%,
          32px 100%,
          0 64px,
          0 0
        );
        justify-content: flex-start; // Keep bg image near center of screen
      }
    }
  }

}